# Configuration file for Speech-to-Text Dictation Tool
# This file allows you to customize the behavior of the dictation tool

# Hotkey Configuration
hotkeys:
  # Primary push-to-talk hotkey (hold to record, release to transcribe)
  # Available keys: ctrl, cmd (Windows key), alt, shift, space, and any letter key
  # Format: List of keys that must be pressed together
  push_to_talk:
    - ctrl
    - cmd  # Windows key on Windows/Linux, Command key on Mac

  # Toggle continuous dictation mode (press once to start, press again to stop)
  # Changed from Ctrl+Shift+D to avoid terminal conflicts
  toggle_continuous:
    - ctrl
    - alt
    - c

# Audio Settings
audio:
  # Sample rate (Hz) - Whisper requires 16000
  sample_rate: 16000

  # Number of channels (1 = mono, 2 = stereo)
  channels: 1

  # Audio chunk size (lower = less latency, higher = more stable)
  chunk_size: 1024

  # Enable audio feedback beeps
  beep_on_start: true
  beep_on_stop: true

  # Beep frequency and duration (Hz, milliseconds)
  start_beep_frequency: 800
  start_beep_duration: 100
  stop_beep_frequency: 600
  stop_beep_duration: 100

# Whisper Model Configuration
model:
  # Model size: tiny.en, base.en, small.en, medium.en, large-v2, large-v3-turbo
  # Using deepdml/faster-whisper-large-v3-turbo-ct2 for best accuracy
  # Optimized configuration: beam_size=2, vad_filter=false
  # Expected performance: ~440ms for 10s audio (well under 500ms target)
  name: deepdml/faster-whisper-large-v3-turbo-ct2

  # Device: cuda (GPU) or cpu
  # Set to "auto" to automatically detect and use GPU if available
  # Using GPU for faster transcription
  device: cuda

  # Compute type: int8, int8_float16, float16, float32
  # float16 is good for GPU, balances speed and accuracy
  compute_type: float16

  # Beam size for decoding (higher = more accurate but slower)
  # Set to 2 for good balance of speed and accuracy
  beam_size: 2

  # VAD (Voice Activity Detection) filter
  # Set to false to ensure all speech is transcribed
  vad_filter: false

  # Language (set to null for auto-detection)
  language: en

# Text Processing
text_processing:
  # Enable automatic punctuation command replacement
  # When enabled, spoken words like "period" become "."
  punctuation_commands: true

  # Punctuation command mappings
  punctuation_map:
    period: "."
    comma: ","
    question mark: "?"
    exclamation point: "!"
    exclamation mark: "!"
    colon: ":"
    semicolon: ";"
    new line: "\n"
    new paragraph: "\n\n"
    dash: "-"
    hyphen: "-"
    quote: "\""
    open quote: "\""
    close quote: "\""
    apostrophe: "'"
    open parenthesis: "("
    close parenthesis: ")"
    open bracket: "["
    close bracket: "]"

  # Custom vocabulary replacements
  # Replace transcribed words/phrases with custom text
  custom_vocabulary:
    # Example: "dictation tool" will be replaced with "DictationTool"
    # "dictation tool": "DictationTool"
    # "my email": "user@example.com"

  # Command words that trigger special actions
  # Format: "command word": "action"
  # Available actions: clear_line, undo_last
  command_words:
    "delete that": "undo_last"
    "scratch that": "undo_last"
    "clear line": "clear_line"

# Continuous Dictation Mode with Auto Silence Detection
continuous_mode:
  # Enable continuous dictation mode by default
  enabled: false

  # Silence detection threshold (seconds)
  # After this many seconds of silence, automatically stop recording and transcribe
  # Uses Voice Activity Detection (VAD) to monitor audio energy levels
  # Recommended: 1.5-3.0 seconds (lower = more responsive, higher = less false stops)
  silence_threshold: 2.0

  # Minimum audio length to transcribe (seconds)
  # Prevents transcription of very short audio clips (e.g., background noise)
  # Recommended: 0.3-1.0 seconds
  minimum_audio_length: 0.5

# System Tray Icon
system_tray:
  # Enable system tray icon
  enabled: true

  # Show notifications
  show_notifications: true

  # Notification duration (seconds)
  notification_duration: 2

# Wake Word Detection & Voice Commands
wake_word:
  # Enable wake word detection for voice commands
  # When enabled, say "AGENT" followed by a command
  enabled: true

  # Always listen for wake word (no hotkey needed)
  # When true, microphone is always on, listening for wake word
  # When false, you must hold push-to-talk hotkey first
  always_listening: true

  # Wake word to listen for (case-insensitive)
  # Default: "agent"
  word: "agent"

  # Voice Commands Available (say "AGENT" followed by command):
  #
  # MOUSE CONTROL & KEYBOARD:
  # - "MOVE UP/DOWN/LEFT/RIGHT" - Move mouse (exponential: 50→100→200→400px)
  # - "CLICK LEFT" / "CLICK RIGHT" - Mouse clicks
  # - "CLICK ENTER" - Press Enter key
  # - "CLICK SPACE" - Press Space key
  #
  # WINDOW & TAB MANAGEMENT:
  # - "SHOW WINDOWS" - Enumerate all open windows with numbers
  # - "SWITCH WINDOW" / "SWITCH WINDOW NEXT" - Next window (Alt+Tab)
  # - "SWITCH WINDOW PREVIOUS" - Previous window (Alt+Shift+Tab)
  # - "SWITCH WINDOW [number]" - Switch to numbered window (use after SHOW WINDOWS)
  #     OR switch N times with Alt+Tab if no window list active
  # - "MAXIMIZE" - Maximize current window (Win+Up)
  # - "MINIMIZE" - Minimize current window (Win+Down)
  # - "MOVE WINDOW LEFT" - Snap window to left half of screen (Win+Left)
  # - "MOVE WINDOW RIGHT" - Snap window to right half of screen (Win+Right)
  # - "SWITCH TAB" / "SWITCH TAB NEXT" - Next tab (Ctrl+Tab)
  # - "SWITCH TAB PREVIOUS" - Previous tab (Ctrl+Shift+Tab)
  #
  # TEXT SELECTION:
  # - "SELECT ALL" - Select all text (Ctrl+A)
  # - "SELECT LINE" - Select current line
  # - "SELECT WORD" - Select current word
  #
  # CLIPBOARD:
  # - "COPY" - Copy selection (Ctrl+C)
  # - "CUT" - Cut selection (Ctrl+X)
  # - "PASTE" - Paste from clipboard (Ctrl+V)
  #
  # UNDO/REDO:
  # - "UNDO" - Undo last action (Ctrl+Z)
  # - "REDO" - Redo last action (Ctrl+Y)
  #
  # NAVIGATION:
  # - "GO TO START" / "GO TO TOP" - Go to document start (Ctrl+Home)
  # - "GO TO END" / "GO TO BOTTOM" - Go to document end (Ctrl+End)
  # - "GO TO LINE START" - Go to line start (Home)
  # - "GO TO LINE END" - Go to line end (End)
  #
  # DELETION:
  # - "DELETE WORD" - Delete previous word (Ctrl+Backspace)
  # - "BACKSPACE" - Backspace once
  # - "BACKSPACE [number]" - Backspace N times (e.g., "BACKSPACE 5")
  #
  # SCROLLING (exponential):
  # - "SCROLL UP/DOWN/LEFT/RIGHT" - Scroll (3→6→12→24 units)
  #
  # PAGING:
  # - "PAGE UP" / "PAGE DOWN" - Page navigation
  #
  # TYPING:
  # - "TYPE [text]" - Type dictated text
  #   Example: "AGENT TYPE Hello world"
  #
  # SCREENSHOT:
  # - "SCREENSHOT" / "TAKE SCREENSHOT" - Capture screen and save to Pictures/Screenshots
  # - "REFERENCE SCREENSHOT" / "PASTE SCREENSHOT" - Paste path of latest screenshot
  # - "REFERENCE SCREENSHOT [N]" - Paste path of Nth screenshot (1=latest, 2=second latest, etc.)
  #   Examples: "REFERENCE SCREENSHOT 1", "REFERENCE SCREENSHOT 2", "PASTE SCREENSHOT 3"
  # - "REFERENCE SCREENSHOT LAST [N]" - Paste paths of last N screenshots (newline-separated)
  #   Examples: "REFERENCE SCREENSHOT LAST 3", "SCREENSHOT LAST 5", "GREEN SHOT LAST 10"
  #   Also accepts: "SCREENSHOT PATH [N]", "LATEST SCREENSHOT", "SCREENSHOT FILE [N]"
  #   Note: Also recognizes "GREEN SHOT" as alternative (handles transcription errors)
  #   Screenshots are saved as: Pictures/Screenshots/screenshot_YYYYMMDD_HHMMSS.png
  #
  # SCREEN SEGMENTATION (Phase 2 & 3 - Advanced):
  # Phase 2 - Grid Mode:
  # - "SHOW GRID" - Display 9x9 numbered grid overlay (81 cells)
  #   Provides granular precision for clicking anywhere on screen
  # - "REFINE GRID [number]" - Zoom into a specific cell with 3x3 subdivision
  #   Example: "AGENT REFINE GRID 45" zooms into cell 45 with 9 smaller cells
  #   Say "AGENT SHOW GRID" to reset back to full 9x9 grid
  #
  # Phase 3 - Element Detection Mode (Windows only):
  # - "SHOW NUMBERS" - Auto-detect and number actual UI elements!
  #   Detects buttons, links, checkboxes, text fields, etc.
  #   Uses Windows UI Automation for smart element detection
  #   Falls back to 5x5 grid on non-Windows or if detection fails
  #
  # Click Commands (both modes):
  # - "CLICK [number]" - Click on numbered element
  #   Example: "AGENT SHOW NUMBERS" then "AGENT CLICK 5"
  # - "RIGHT CLICK [number]" - Right-click numbered element
  # - "DOUBLE CLICK [number]" - Double-click numbered element
  # - "MIDDLE CLICK [number]" - Middle-click numbered element
  # - "HIDE NUMBERS" / "HIDE GRID" / "CLOSE OVERLAY" - Close overlay
  #   Also accepts: "HEIGHT NUMBERS", "HEIGHT GRID", "CLOSE NUMBERS", etc.
  #   (robust to speech recognition errors)
  #
  # Requirements:
  # - pyautogui (all platforms): pip install pyautogui
  # - pywinauto (Windows only, Phase 3): pip install pywinauto
  #
  # Note: Commands persist until different command is issued.
  # Consecutive same commands increase intensity (mouse, scroll).

# Advanced Settings
advanced:
  # Log level: DEBUG, INFO, WARNING, ERROR
  log_level: INFO

  # Enable verbose output
  verbose: true

  # Maximum recording duration (seconds, 0 = unlimited)
  max_recording_duration: 0

  # Number of worker threads for transcription
  transcription_threads: 16

# Custom Voice Commands
# Define your own voice commands that can type text, execute files, or press key combinations
custom_commands:
  # Enable custom commands feature
  enabled: true

  # Define your custom commands below
  # Each command must have a 'trigger' phrase and an 'action' with type and parameters
  commands:
    # Example 1: Type text when you say a command
    - trigger: "insert email"
      action:
        type: "type_text"
        text: "your.email@example.com"

    - trigger: "insert signature"
      action:
        type: "type_text"
        text: "Best regards,\nYour Name\nYour Title"

    # Example 2: Execute a file or program
    - trigger: "open calculator"
      action:
        type: "execute_file"
        path: "calc.exe"  # Windows calculator

    - trigger: "open notepad"
      action:
        type: "execute_file"
        path: "notepad.exe"

    - trigger: "run my script"
      action:
        type: "execute_file"
        path: "C:\\path\\to\\your\\script.bat"

    - trigger: "debug"
      action:
        type: "execute_file"
        path: "C:\\Users\\221100002024\\sources\\agents\\buildandvalidate.bat"

    # Example 3: Press key combinations
    - trigger: "save file"
      action:
        type: "key_combination"
        keys: ["ctrl", "s"]

    - trigger: "copy that"
      action:
        type: "key_combination"
        keys: ["ctrl", "c"]

    - trigger: "paste that"
      action:
        type: "key_combination"
        keys: ["ctrl", "v"]

    - trigger: "new tab"
      action:
        type: "key_combination"
        keys: ["ctrl", "t"]

    - trigger: "close tab"
      action:
        type: "key_combination"
        keys: ["ctrl", "w"]

    - trigger: "undo that"
      action:
        type: "key_combination"
        keys: ["ctrl", "z"]

    - trigger: "find text"
      action:
        type: "key_combination"
        keys: ["ctrl", "f"]

    - trigger: "switch app"
      action:
        type: "key_combination"
        keys: ["alt", "tab"]

    # Admin commands for local admin credentials (copy to clipboard only)
    - trigger: "admin user"
      action:
        type: "copy_to_clipboard"
        text: ".\\localadm"

    - trigger: "admin password"
      action:
        type: "execute_file"
        path: "C:\\Users\\221100002024\\SpeechToText\\copy_admin_password.bat"

  # Notes:
  # - trigger: The phrase you say (case-insensitive, after wake word "AGENT")
  # - action.type: Must be one of: "type_text", "copy_to_clipboard", "execute_file", "key_combination"
  # - action.text: The text to type or copy (supports \n for newlines, \t for tabs)
  # - action.path: Full path to file/program to execute
  # - action.keys: List of keys to press together
  #   Available keys: ctrl, alt, shift, cmd, tab, enter, space, esc, backspace,
  #                   delete, home, end, pageup, pagedown, up, down, left, right,
  #                   f1-f12, a-z, 0-9
  #
  # Custom commands are checked BEFORE built-in commands, so you can override defaults
