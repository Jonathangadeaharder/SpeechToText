# Configuration file for Speech-to-Text Dictation Tool
# This file allows you to customize the behavior of the dictation tool

# Hotkey Configuration
hotkeys:
  # Primary push-to-talk hotkey (hold to record, release to transcribe)
  # Available keys: ctrl, cmd (Windows key), alt, shift, space, and any letter key
  # Format: List of keys that must be pressed together
  push_to_talk:
    - ctrl
    - cmd  # Windows key on Windows/Linux, Command key on Mac

  # Toggle continuous dictation mode (press once to start, press again to stop)
  # Changed from Ctrl+Shift+D to avoid terminal conflicts
  toggle_continuous:
    - ctrl
    - alt
    - c

# Audio Settings
audio:
  # Sample rate (Hz) - Whisper requires 16000
  sample_rate: 16000

  # Number of channels (1 = mono, 2 = stereo)
  channels: 1

  # Audio chunk size (lower = less latency, higher = more stable)
  chunk_size: 1024

  # Enable audio feedback beeps
  beep_on_start: true
  beep_on_stop: true

  # Beep frequency and duration (Hz, milliseconds)
  start_beep_frequency: 800
  start_beep_duration: 100
  stop_beep_frequency: 600
  stop_beep_duration: 100

# Whisper Model Configuration
model:
  # Model size: tiny.en, base.en, small.en, medium.en, large-v2
  # Larger models are more accurate but slower and use more resources
  # Using base.en for good quality/speed balance on CPU
  name: base.en

  # Device: cuda (GPU) or cpu
  # Set to "auto" to automatically detect and use GPU if available
  # Using CPU mode by default to avoid CUDA version conflicts
  device: cpu

  # Compute type: int8, int8_float16, float16, float32
  # int8 uses less VRAM but may be slightly less accurate
  compute_type: int8

  # Beam size for decoding (higher = more accurate but slower)
  beam_size: 5

  # Language (set to null for auto-detection)
  language: en

# Text Processing
text_processing:
  # Enable automatic punctuation command replacement
  # When enabled, spoken words like "period" become "."
  punctuation_commands: true

  # Punctuation command mappings
  punctuation_map:
    period: "."
    comma: ","
    question mark: "?"
    exclamation point: "!"
    exclamation mark: "!"
    colon: ":"
    semicolon: ";"
    new line: "\n"
    new paragraph: "\n\n"
    dash: "-"
    hyphen: "-"
    quote: "\""
    open quote: "\""
    close quote: "\""
    apostrophe: "'"
    open parenthesis: "("
    close parenthesis: ")"
    open bracket: "["
    close bracket: "]"

  # Custom vocabulary replacements
  # Replace transcribed words/phrases with custom text
  custom_vocabulary:
    # Example: "dictation tool" will be replaced with "DictationTool"
    # "dictation tool": "DictationTool"
    # "my email": "user@example.com"

  # Command words that trigger special actions
  # Format: "command word": "action"
  # Available actions: clear_line, undo_last
  command_words:
    "delete that": "undo_last"
    "scratch that": "undo_last"
    "clear line": "clear_line"

# Continuous Dictation Mode with Auto Silence Detection
continuous_mode:
  # Enable continuous dictation mode by default
  enabled: false

  # Silence detection threshold (seconds)
  # After this many seconds of silence, automatically stop recording and transcribe
  # Uses Voice Activity Detection (VAD) to monitor audio energy levels
  # Recommended: 1.5-3.0 seconds (lower = more responsive, higher = less false stops)
  silence_threshold: 2.0

  # Minimum audio length to transcribe (seconds)
  # Prevents transcription of very short audio clips (e.g., background noise)
  # Recommended: 0.3-1.0 seconds
  minimum_audio_length: 0.5

# System Tray Icon
system_tray:
  # Enable system tray icon
  enabled: true

  # Show notifications
  show_notifications: true

  # Notification duration (seconds)
  notification_duration: 2

# Wake Word Detection & Voice Commands
wake_word:
  # Enable wake word detection for voice commands
  # When enabled, say "AGENT" followed by a command
  enabled: true

  # Always listen for wake word (no hotkey needed)
  # WARNING: Privacy and resource implications when enabled:
  # - Microphone is continuously active and processing audio
  # - Continuous CPU usage for audio processing
  # - May reduce battery life significantly on laptops
  # - Audio is processed locally (not sent to external servers)
  # DEFAULT: false (users must opt-in for privacy/battery conservation)
  # When true: Microphone always on, listening for wake word
  # When false: Must hold push-to-talk hotkey first
  # NOTE: Cannot toggle continuous mode hotkey when always_listening is enabled
  always_listening: false

  # Wake word to listen for (case-insensitive)
  # Default: "agent"
  word: "agent"

  # Voice Commands Available:
  # - Mouse Movement: "AGENT MOVE UP/DOWN/LEFT/RIGHT"
  #   * Consecutive same commands increase movement exponentially (50px, 100px, 200px, 400px, etc.)
  #   * Example: Say "AGENT MOVE UP" three times → moves 50px, then 100px, then 200px
  # - Mouse Clicks: "AGENT CLICK LEFT" or "AGENT CLICK RIGHT"
  # - Type Text: "AGENT TYPE [your text here]"
  #   * Example: "AGENT TYPE Hello world" → types "Hello world"
  # - Window Switching: "AGENT SWITCH WINDOW"
  #   * Switches between open applications (Alt+Tab)
  # - Tab Switching: "AGENT SWITCH TAB"
  #   * Switches between tabs in current application (Ctrl+Tab)
  # - Commands persist until a different command is issued

  # Note: You can also just say the command after wake word is detected
  # Example: "AGENT" [pause] "MOVE UP" [pause] "MOVE UP" [pause] "CLICK LEFT"

# Advanced Settings
advanced:
  # Log level: DEBUG, INFO, WARNING, ERROR
  log_level: INFO

  # Enable verbose output
  verbose: false

  # Maximum recording duration (seconds, 0 = unlimited)
  max_recording_duration: 60

  # Number of worker threads for transcription
  transcription_threads: 1

# Custom Voice Commands
# Define your own voice commands that can type text, execute files, or press key combinations
#
# ⚠️  SECURITY WARNING ⚠️
# The 'execute_file' action type allows running arbitrary programs via voice commands.
# This is a significant security risk as it could be exploited to run malicious code.
#
# ONLY enable this feature if:
# - You understand the security implications
# - You trust all users who will have access to this system
# - You have carefully reviewed all custom commands with execute_file actions
# - You use only absolute paths to trusted executables
#
# RECOMMENDATIONS:
# - Keep this feature DISABLED unless absolutely necessary
# - Use type_text, copy_to_clipboard, or key_combination actions instead
# - Never use user-specific or hardcoded paths
# - Document all execute_file commands and their purpose
custom_commands:
  # Enable custom commands feature (DISABLED by default for security)
  enabled: false

  # Define your custom commands below
  # Each command must have a 'trigger' phrase and an 'action' with type and parameters
  commands:
    # Example 1: Type text when you say a command
    - trigger: "insert email"
      action:
        type: "type_text"
        text: "your.email@example.com"

    - trigger: "insert signature"
      action:
        type: "type_text"
        text: "Best regards,\nYour Name\nYour Title"

    # Example 2: Execute a file or program
    # IMPORTANT: Always use absolute paths for security
    - trigger: "open calculator"
      action:
        type: "execute_file"
        path: "C:\\Windows\\System32\\calc.exe"  # Windows calculator - absolute path

    - trigger: "open notepad"
      action:
        type: "execute_file"
        path: "C:\\Windows\\System32\\notepad.exe"  # Notepad - absolute path

    # - trigger: "run my script"
    #   action:
    #     type: "execute_file"
    #     path: "C:\\path\\to\\your\\script.bat"

    # Example 3: Press key combinations
    - trigger: "save file"
      action:
        type: "key_combination"
        keys: ["ctrl", "s"]

    - trigger: "copy that"
      action:
        type: "key_combination"
        keys: ["ctrl", "c"]

    - trigger: "paste that"
      action:
        type: "key_combination"
        keys: ["ctrl", "v"]

    - trigger: "new tab"
      action:
        type: "key_combination"
        keys: ["ctrl", "t"]

    - trigger: "close tab"
      action:
        type: "key_combination"
        keys: ["ctrl", "w"]

    - trigger: "undo that"
      action:
        type: "key_combination"
        keys: ["ctrl", "z"]

    - trigger: "find text"
      action:
        type: "key_combination"
        keys: ["ctrl", "f"]

    - trigger: "switch app"
      action:
        type: "key_combination"
        keys: ["alt", "tab"]

    # # Example admin commands (disabled for security - customize for your needs)
    # - trigger: "admin user"
    #   action:
    #     type: "copy_to_clipboard"
    #     text: ".\\localadm"

  # Notes:
  # - trigger: The phrase you say (case-insensitive, after wake word "AGENT")
  # - action.type: Must be one of: "type_text", "copy_to_clipboard", "execute_file", "key_combination"
  # - action.text: The text to type or copy (supports \n for newlines, \t for tabs)
  # - action.path: Full path to file/program to execute
  # - action.keys: List of keys to press together
  #   Available keys: ctrl, alt, shift, cmd, tab, enter, space, esc, backspace,
  #                   delete, home, end, pageup, pagedown, up, down, left, right,
  #                   f1-f12, a-z, 0-9
  #
  # Custom commands are checked BEFORE built-in commands, so you can override defaults
